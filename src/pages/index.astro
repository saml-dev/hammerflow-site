---
import Layout from '../layouts/Layout.astro';
import RotatingActions from '../components/RotatingActions.svelte';
import { Code } from 'astro:components';

import background from '../assets/bg.jpg';
import vscodeLogo from '../assets/vscode.svg';
import github from '../assets/github.svg';
import window from '../assets/window.svg';
import terminal from '../assets/terminal.png';
import { tomlSample } from '../lib/strings';

let actions: [string, KeyBindingAction][] = [
  [
    'leader v',
    {
      icon: vscodeLogo.src,
      action: 'Launch',
      label: 'VS Code',
    },
  ],
  [
    'leader t',
    {
      action: 'Launch',
      label: 'Terminal',
      icon: terminal.src,
    },
  ],
  [
    'leader l r',
    {
      action: 'Open',
      label: 'https://reddit.com',
      fontSize: '1.6rem',
    },
  ],
  [
    'leader w m',
    {
      action: 'Window',
      label: 'Maximize',
      icon: window.src,
    },
  ],
  [
    'leader r e',
    {
      action: 'Raycast',
      label: 'ðŸ¤ª Emoji picker',
    },
  ],
  [
    'leader w h',
    {
      action: 'Window',
      label: 'Left half',
      icon: window.src,
    },
  ],
  [
    'leader r c',
    {
      action: 'Raycast',
      label: 'ðŸŽ‰ Confetti',
    },
  ],
  [
    'leader l m g',
    {
      action: 'Open',
      icon: github.src,
      label: 'https://github.com/saml-dev',
      fontSize: '1.1rem',
    },
  ],
  [
    'leader w c',
    {
      action: 'Window',
      label: 'Center half',
      icon: window.src,
    },
  ],
];
---

<Layout>
  <div
    class='flex flex-col items-center mt-10 mb-40 md:mt-25 max-w-6xl mx-auto'
  >
    <img
      id='background'
      src={background.src}
      alt=''
      fetchpriority='high'
    />
    <h1 class='text-balance text-center text-4xl md:text-6xl font-bold'>
      The most productive way to navigate your Mac
    </h1>
    <div class='mt-12 md:mt-18'>
      <RotatingActions
        client:load
        {actions}
      />
    </div>
    <div class='mt-22 max-w-9/10'>
      <h2 class='text-3xl text-balance -ml-1'>
        Text based configuration with live reloading.
      </h2>
      <p class='text-lg text-gray-600'>Iterate as fast as you can type.</p>
      <Code
        lang='toml'
        code={tomlSample}
        class='rounded-lg p-4 mt-2 text-sm md:text-base overflow-x-scroll'
      />
    </div>
    <div>
      <!-- TODO: quick start, one tab for using hammerspoon (test this workflow locally), one tab for installing hammerspoon -->
    </div>
  </div>
</Layout>

<style>
  #background {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -1;
    filter: blur(100px);
  }
</style>
